<section>
  <h3>Cadastrar-se</h3>
  <form
    class="form"
    [formGroup]="form"
    (ngSubmit)="onSubmit()"
    data-testid="sign-up-form"
  >
    <mat-form-field>
      <mat-label>Nome de usuário</mat-label>
      <input
        matInput
        placeholder="Digite o nome de usuário"
        formControlName="username"
        data-testid="sign-up-username"
      />
    </mat-form-field>

    <mat-form-field>
      <mat-label>E-mail</mat-label>
      <input
        matInput
        placeholder="Digite o e-mail"
        formControlName="email"
        data-testid="sign-up-email"
      />
    </mat-form-field>

    <mat-form-field>
      <mat-label>Senha</mat-label>
      <input
        matInput
        type="password"
        placeholder="Digite a senha"
        formControlName="password"
        data-testid="sign-up-password"
      />
    </mat-form-field>

    @if (showAuthFailedMessage()) {
      <section class="text-error" data-testid="sign-up-auth-failed">
        Senha fraca, tente uma senha mais forte
      </section>
    }

    <span class="sign-up-link">
      Já tem uma conta?
      <button mat-button (click)="goToSignIn()">Entrar</button>
    </span>

    <section class="flex justify-end">
      <button
        mat-flat-button
        appButtonXs="primary"
        type="submit"
        [disabled]="form.invalid"
      >
        Criar conta
      </button>
    </section>
  </form>
</section>
